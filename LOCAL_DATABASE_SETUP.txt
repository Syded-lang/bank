═══════════════════════════════════════════════════════════════
🗄️ LOCAL DATABASE SETUP GUIDE
═══════════════════════════════════════════════════════════════

Let's set up the database manually for local testing!


## DATABASE CREDENTIALS
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Database Name: bank
Host: localhost (127.0.0.1)
Port: 3306
Username: root
Password: (your MySQL root password, or leave empty)


## STEP 1: Create Database
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Open your terminal and run:

```bash
# Login to MySQL
mysql -u root -p
# (enter your password when prompted, or just press Enter if no password)

# Create the database
CREATE DATABASE bank CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

# Verify it was created
SHOW DATABASES;

# Exit MySQL
EXIT;
```

## STEP 2: Import Database Schema
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

```bash
# Navigate to install directory
cd "/Users/m2/Desktop/Files-1 3/install"

# Import database
mysql -u root -p bank < database.sql
# (enter your password when prompted)

# Verify tables were created
mysql -u root -p bank -e "SHOW TABLES;"
```

Should show 50+ tables like:
- admins
- users
- deposits
- withdrawals
- branches
- loans
- etc.


## STEP 3: Create .env File
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

```bash
cd "/Users/m2/Desktop/Files-1 3/core"

# Create .env file
cat > .env << 'EOF'
APP_NAME=ViserBank
APP_ENV=local
APP_KEY=
APP_DEBUG=true
APP_URL=http://127.0.0.1:8001

LOG_CHANNEL=stack

DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=bank
DB_USERNAME=root
DB_PASSWORD=

BROADCAST_DRIVER=log
CACHE_DRIVER=file
QUEUE_CONNECTION=sync
SESSION_DRIVER=file
SESSION_LIFETIME=120

REDIS_HOST=127.0.0.1
REDIS_PASSWORD=null
REDIS_PORT=6379

MAIL_MAILER=smtp
MAIL_HOST=smtp.mailtrap.io
MAIL_PORT=2525
MAIL_USERNAME=null
MAIL_PASSWORD=null
MAIL_ENCRYPTION=null
MAIL_FROM_ADDRESS=null
MAIL_FROM_NAME="${APP_NAME}"

AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_DEFAULT_REGION=us-east-1
AWS_BUCKET=

PUSHER_APP_ID=
PUSHER_APP_KEY=
PUSHER_APP_SECRET=
PUSHER_APP_CLUSTER=mt1

MIX_PUSHER_APP_KEY="${PUSHER_APP_KEY}"
MIX_PUSHER_APP_CLUSTER="${PUSHER_APP_CLUSTER}"

PURCHASECODE=BYPASSED-LICENSE-LOCAL-DEV
EOF
```

⚠️ **IMPORTANT:** If your MySQL has a password, edit the file:
```bash
nano .env
# Change this line:
# DB_PASSWORD=your_mysql_password
```


## STEP 4: Generate Application Key
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

```bash
cd "/Users/m2/Desktop/Files-1 3/core"

# Generate encryption key
php artisan key:generate

# Clear caches
php artisan config:clear
php artisan cache:clear

# Verify .env was updated
cat .env | grep APP_KEY
# Should show: APP_KEY=base64:...
```


## STEP 5: Test the Application
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Server is already running at: http://127.0.0.1:8001

Visit:
- Homepage: http://127.0.0.1:8001
- Admin: http://127.0.0.1:8001/admin


## DEFAULT ADMIN CREDENTIALS (from database.sql)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Check the database for default admin:

```bash
mysql -u root -p bank -e "SELECT id, username, email FROM admins;"
```

Usually:
- Username: admin
- Password: (check database.sql file or use password reset)


## IF YOU NEED TO RESET ADMIN PASSWORD
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

```bash
cd "/Users/m2/Desktop/Files-1 3/core"

php artisan tinker

# In tinker console:
$admin = App\Models\Admin::first();
$admin->password = bcrypt('admin123');
$admin->save();
exit
```

Then login with:
- Username: admin
- Password: admin123


═══════════════════════════════════════════════════════════════
✅ QUICK SETUP (All-in-One)
═══════════════════════════════════════════════════════════════

Run these commands in order:

# 1. Create database
mysql -u root -p -e "CREATE DATABASE bank CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;"

# 2. Import schema
mysql -u root -p bank < "/Users/m2/Desktop/Files-1 3/install/database.sql"

# 3. Create .env file (adjust DB_PASSWORD if needed)
cd "/Users/m2/Desktop/Files-1 3/core"
cp .env.example .env
# Then edit DB_DATABASE=bank, DB_USERNAME=root, DB_PASSWORD=

# 4. Generate key
php artisan key:generate

# 5. Clear caches
php artisan config:clear && php artisan cache:clear

# 6. Visit: http://127.0.0.1:8001

═══════════════════════════════════════════════════════════════
